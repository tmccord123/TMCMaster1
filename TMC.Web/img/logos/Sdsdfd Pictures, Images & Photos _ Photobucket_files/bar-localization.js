var dictionary = {
    de: {
        found: 'beim Kauf dieses Produktes auf',
        for: 'für',
        on_sd: 'bei',
        compare_sd: 'Vergleiche',
        product: 'Produkt',
        products: 'Produkte',
        cheaper_price_found: 'beim Kauf dieses Produktes auf',
        buy_this_product_for: 'Kaufe das Produkt für',
        on: 'auf',
        this_is_the_best_price: 'Das ist der beste Preis',
        the_next_best_price: 'Der zweitbeste Preis',
        is_at: 'ist auf',
        same_price: 'GLEICHER</br>PREIS',
        more: 'MEHR',
        compare: 'vergleichen',
        price: 'Preis',
        prices: 'Preise',
        coupon_for: 'Gutschein verfügbar',
        coupons_for: 'Gutscheine verfügbar',
        weFoundCoupons: 'Es stehen Gutscheine zur Verfügung!',
        available: 'verfügbar',
        offer_for: 'Angebot für',
        offers_for: 'Angebote für',
        save: 'Spare',
        shipping: 'Versand',
        freeShipping: 'Kostenloser Versand',
        problems_with_these_results: 'Gibt es Beanstandungen zu den Ergebnissen?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Angebote und Gutscheine anzeigen',
        alternative_price: 'Alternativer Preis:',
        at: 'auf',
        save_new: 'Spare'
    },
    en: {
        found: 'buying this product at',
        for: 'for',
        on_sd: 'on',
        compare_sd: 'Compare',
        product: 'product',
        products: 'products',
        cheaper_price_found: 'buying this product at',
        buy_this_product_for: 'Buy this product for',
        on: 'on',
        this_is_the_best_price: 'This is the best price',
        the_next_best_price: 'The next best price',
        is_at: 'is at',
        same_price: 'SAME</br>PRICE',
        more: 'MORE',
        compare: 'Compare',
        price: 'price',
        prices: 'prices',
        coupon_for: 'coupon available',
        coupons_for: 'coupons available',
        weFoundCoupons: 'We have found coupons for this webpage!',
        available: 'available',
        offer_for: 'Offer for',
        offers_for: 'Offers for',
        save: 'Save',
        shipping: 'Shipping',
        freeShipping: 'Free Shipping',
        problems_with_these_results: 'Problems with these results?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Show coupons and offers',
        alternative_price: 'Alternative price:',
        at: 'at',
        save_new: 'Save'
    },
    es: {
        found: 'Mejor precio encontrado',
        for: 'a',
        on_sd: 'en',
        compare_sd: 'Compara',
        product: 'producto',
        products: 'productos',
        cheaper_price_found: 'al comprar este producto en',
        buy_this_product_for: 'Compre el producto por',
        on: 'en',
        this_is_the_best_price: 'Este es el mejor precio',
        the_next_best_price: 'El siguiente mejor precio',
        is_at: 'está en',
        same_price: 'MISMO</br>PRECIO',
        more: 'MÁS',
        compare: 'Comparar',
        price: 'precio',
        prices: 'precios',
        coupon_for: 'cupón disponible',
        coupons_for: 'cupones disponibles',
        weFoundCoupons: '¡Hemos encontrado cupones para este sitio!',
        available: 'disponible',
        offer_for: 'Oferta por',
        offers_for: 'Ofertas por',
        save: 'Guardar',
        shipping: 'Envío',
        freeShipping: 'Envío Gratuito',
        problems_with_these_results: '¿Hay reclamaciones con respecto a los resultados?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Mostrar cupones y ofertas',
        alternative_price: 'Precio alternativo:',
        at: 'en',
        save_new: 'Ahorra'
    },
    pt: {
        found: 'na compra deste produto na loja',
        for: 'por',
        on_sd: 'na loja',
        compare_sd: 'Comparar',
        product: 'produto',
        products: 'produtos',
        cheaper_price_found: 'na compra deste produto na loja',
        buy_this_product_for: 'Compre este produto por',
        on: 'na',
        this_is_the_best_price: 'Este é o melhor preço',
        the_next_best_price: 'O próximo melhor preço',
        is_at: 'é no',
        same_price: 'MESMO</br>PREÇO',
        more: 'MAIS CARO',
        compare: 'Comparar',
        price: 'preço',
        prices: 'preços',
        coupon_for: 'coupon disponível',
        coupons_for: 'coupons disponíveis',
        weFoundCoupons: 'Encontramos cupons para este site!',
        available: 'disponível',
        offer_for: 'Oferta para',
        offers_for: 'Ofertas para',
        save: 'Economizar',
        shipping: 'Envio',
        freeShipping: 'Envio grátis',
        problems_with_these_results: 'Problemas com estes resultados?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Mostrar cupons e ofertas!',
        alternative_price: 'Preço alternativo:',
        at: 'na loja',
        save_new: 'Economize'
    },
    fr: {
        found: 'Meilleur prix trouvé',
        for: 'à',
        on_sd: 'chez',
        compare_sd: 'Comparez',
        product: 'produit',
        products: 'produits',
        cheaper_price_found: 'Nous avons trouvé un meilleur prix',
        buy_this_product_for: 'Achète le produit pour',
        on: 'sur',
        this_is_the_best_price: 'Voici le meilleur prix',
        the_next_best_price: 'Le meilleur prix suivant',
        is_at: 'est de',
        same_price: 'MÊME</br>PRIX',
        more: 'PLUS',
        compare: 'Comparez',
        price: 'Prix',
        prices: 'Prix',
        coupon_for: 'bon disponible',
        coupons_for: 'bons disponibles',
        weFoundCoupons: 'Nous avons trouvé des bons de réduction pour ce site!',
        available: 'disponible',
        offer_for: 'Offre pour',
        offers_for: 'Offres pour',
        save: 'Sauvegarder',
        shipping: 'Envoi',
        freeShipping: 'Envoi Gratuit',
        problems_with_these_results: 'Est-ce que vous souhaitez soumettre des réclamations au sujet de ces résultats?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Show coupons and offers',
        alternative_price: 'Alternative price:',
        at: 'at',
        save_new: 'Save'
    },
    it: {
        found: 'Cerca per il miglior prezzo',
        for: 'per',
        on_sd: 'su',
        compare_sd: 'Compara',
        product: 'prodotti',
        products: 'prodotti',
        cheaper_price_found: 'acquisto di questo prodotto',
        buy_this_product_for: 'Acquista il prodotto per',
        on: 'a',
        this_is_the_best_price: 'Questo è il miglior prezzo',
        the_next_best_price: 'Il prossimo miglior prezzo',
        is_at: 'è',
        same_price: 'ALLO</br>STESSO</br>PREZZO',
        more: 'PIÙ ALTO',
        compare: 'Confrontare',
        price: 'prezzo',
        prices: 'i prezzi',
        coupon_for: 'coupon disponibile',
        coupons_for: 'coupon disponibili',
        weFoundCoupons: 'Abbiamo trovato dei coupon per questo sito!',
        available: 'disponibile',
        offer_for: 'Offerta per',
        offers_for: 'Offerte per',
        save: 'Salva',
        shipping: 'Spedizione',
        freeShipping: 'Spedizione Gratuita',
        problems_with_these_results: 'Ci sono reclami sui risultati?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Mostra buoni sconto e offerte',
        alternative_price: 'Prezzo alternativo:',
        at: 'su',
        save_new: 'Risparmia'
    },
    pl: {
        found: 'Znaleziono lepszą cenę',
        for: 'za',
        on_sd: 'na',
        compare_sd: 'Porównanie',
        product: 'produktu',
        products: 'produktów',
        cheaper_price_found: 'przy kupnie produktu na stronie',
        buy_this_product_for: 'Kup produkt za',
        on: 'na',
        this_is_the_best_price: 'To jest najlepsza cena',
        the_next_best_price: 'Druga najlepsza cena',
        is_at: 'jest na',
        same_price: 'TAKA</br>SAMA</br>CENA',
        more: 'WIĘCEJ',
        compare: 'Porównanie',
        price: 'ceny',
        prices: 'cen',
        coupon_for: 'kupon dostępny',
        coupons_for: 'kupony dostępne',
        weFoundCoupons: 'Znaleźliśmy kupony dla tej strony!',
        available: 'dostępne',
        offer_for: 'Oferta na',
        offers_for: 'Oferty na',
        save: 'Oszczędzaj',
        shipping: 'Wysyłka',
        freeShipping: 'Wysyłka gratis',
        problems_with_these_results: 'Problemy z tymi wynikami?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Pokaż oferty i kupony',
        alternative_price: 'Cena alternatywna:',
        at: 'w',
        save_new: 'Oszczędź'
    },
    ru: {
        found: 'Найдена лучшая цена',
        for: 'за',
        on_sd: 'на',
        compare_sd: 'Сравните',
        product: 'товар',
        products: 'товары',
        cheaper_price_found: 'При покупке этого товара на',
        buy_this_product_for: 'Купить этот товар по цене',
        on: 'на',
        this_is_the_best_price: 'Это лучшая цена',
        the_next_best_price: 'Следующая лучшая цена',
        is_at: 'находится в',
        same_price: 'ТА ЖЕ</br>ЦЕНА',
        more: 'БОЛЬШЕ',
        compare: 'Сравнить',
        price: 'цену',
        prices: 'цены',
        coupon_for: 'Доступный купон',
        coupons_for: 'Доступных купонов',
        weFoundCoupons: 'Мы нашли купоны для этой веб-страницы!',
        available: 'доступно',
        offer_for: 'Предложение для',
        offers_for: 'Предложения для',
        save: 'Экономия',
        shipping: 'Доставка',
        freeShipping: 'Бесплатная доставка',
        problems_with_these_results: 'Возникли проблемы с этими результатами?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Показать купоны и спецпредложения',
        alternative_price: 'AАльтернативная цена',
        at: 'на',
        save_new: 'Сэкономьте'
    },
    nl: {
        found: 'Een betere prijs gevonden',
        for: 'voor',
        on_sd: 'op',
        compare_sd: 'Vergelijk',
        product: 'product',
        products: 'producten',
        cheaper_price_found: 'bij de aankoop van dit product op',
        buy_this_product_for: 'Koop dit product voor',
        on: 'op',
        this_is_the_best_price: 'Dit is de beste prijs',
        the_next_best_price: 'De hieropvolgende beste prijs',
        is_at: 'is te vinden op',
        same_price: 'ZELFDE</br>PRIJS',
        more: 'MEER',
        compare: 'vergelijken',
        price: 'prijs',
        prices: 'prijzen',
        coupon_for: 'coupon beschikbaar',
        coupons_for: 'coupons beschikbaar',
        weFoundCoupons: 'We hebben coupons voor deze website gevonden!',
        available: 'beschikbaar',
        offer_for: 'Aanbieding voor',
        offers_for: 'Aanbiedingen voor',
        save: 'Bewaar',
        shipping: 'Verzending',
        freeShipping: 'Gratis verzending',
        problems_with_these_results: 'Problemen met deze resultaten?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Aanbiedingen en coupons tonen',
        alternative_price: 'Alternatieve prijs:',
        at: 'op',
        save_new: 'Bespaar'
    },
    no: {
        found: 'ved kjöp at dette produkt på',
        for: 'for',
        on_sd: 'på',
        compare_sd: 'Sammenlign',
        product: 'produkter',
        products: 'produkt',
        cheaper_price_found: 'ved kjöp at dette produkt på',
        buy_this_product_for: 'Kjøp dette produktet for',
        on: 'på',
        this_is_the_best_price: 'Dette er den beste prisen',
        the_next_best_price: 'Den nest beste prisen',
        is_at: 'er på',
        same_price: 'SAMME</br>PRIS',
        more: 'MER',
        compare: 'Sammenlign',
        price: 'Pris',
        prices: 'priser',
        coupon_for: 'kupong tilgjengelig',
        coupons_for: 'kuponger tilgjengelig',
        weFoundCoupons: 'Vi har funnet kuponger for denne nettsiden!',
        available: 'tilgjengelig',
        offer_for: 'Tilbud for',
        offers_for: 'Tilbud for',
        save: 'Spar',
        shipping: 'Frakt',
        freeShipping: 'Gratis frakt',
        problems_with_these_results: 'Problemer med disse resultatene?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Show coupons and offers',
        alternative_price: 'Alternative price:',
        at: 'at',
        save_new: 'Save'
    },
    sv: {
        found: 'vid köp av denna produkt på',
        for: 'för',
        on_sd: 'på',
        compare_sd: 'Jämför',
        product: 'produkter',
        products: 'produkt',
        cheaper_price_found: 'vid köp av denna produkt på',
        buy_this_product_for: 'Köp denna produkt för',
        on: 'på',
        this_is_the_best_price: 'Detta är det bästa priset',
        the_next_best_price: 'Det näst bästa priset',
        is_at: 'finns på',
        same_price: 'SAMMA</br>PRIS',
        more: 'MER',
        compare: 'Jämför',
        price: 'pris',
        prices: 'priser',
        coupon_for: 'kupong tillgänglig',
        coupons_for: 'kuponger tillgängliga',
        weFoundCoupons: 'Vi har hittat kuponger för denna webbsida!',
        available: 'tillgängliga',
        offer_for: 'Erbjudande om',
        offers_for: 'Erbjudanden om',
        save: 'Spara',
        shipping: 'Frakt',
        freeShipping: 'Fri frakt',
        problems_with_these_results: 'Problem med dessa resultat?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Show coupons and offers',
        alternative_price: 'Alternative price:',
        at: 'at',
        save_new: 'Save'
    },
    tr: {
        found: 'Daha iyi bir fiyat bulundu:',
        for: 'için',
        on_sd: '\'a',
        compare_sd: 'Karşılaştır',
        product: 'ürünler',
        products: 'ürün',
        cheaper_price_found: 'Daha ucuz fiyat bulundu',
        buy_this_product_for: 'Bu ürünü',
        for_tr: ' \'a al',
        on: '\'a',
        this_is_the_best_price: 'Bu en iyi fiyat',
        the_next_best_price: 'Bu bir sonraki en iyi fiyat',
        is_at: 'da',
        same_price: 'AYNI</br>FİYAT',
        more: 'DAHA',
        compare: 'Karşılaştır',
        price: 'Fiyat',
        prices: 'Fiyatlar',
        coupon_for: 'mevcut Kupon',
        coupons_for: 'mevcut Kuponlar',
        weFoundCoupons: 'Bu internet sayfası için kuponlar bulduk!',
        available: 'mevcut',
        offer_for: '(Ürün) için teklif',
        offers_for: '(Ürün) için teklifler',
        save: 'Tasarruf et',
        shipping: 'Kargo',
        freeShipping: 'Ücretsiz kargo',
        problems_with_these_results: 'Bu sonuçlarla ilgili problemler mi var?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Show coupons and offers',
        alternative_price: 'Alternative price:',
        alternative_price: 'Alternative price:',
        at: 'at',
        save_new: 'Save'
    },
    fi: {
        found: 'myydessään tämän tuotteen',
        for: 'for',
        on_sd: 'on',
        compare_sd: 'Compare',
        product: 'product',
        products: 'products',
        cheaper_price_found: 'myydessään tämän tuotteen',
        buy_this_product_for: 'Buy this product for',
        on: 'on',
        this_is_the_best_price: 'This is the best price',
        the_next_best_price: 'The next best price',
        is_at: 'is at',
        same_price: 'SAME</br>PRICE',
        more: 'MORE',
        compare: 'Vertaile',
        price: 'hinta',
        prices: 'hintoja',
        coupon_for: 'kuponki saatavilla',
        coupons_for: 'kuponkeja saatavilla',
        weFoundCoupons: 'We have found coupons for this webpage!',
        available: 'available',
        offer_for: 'Offer for',
        offers_for: 'Offers for',
        save: 'Save',
        shipping: 'Shipping',
        freeShipping: 'Free Shipping',
        problems_with_these_results: 'Problems with these results?',
        powered_by: 'Ad by',
        show_coupons_and_offers: 'Show coupons and offers',
        alternative_price: 'Alternative price:',
        at: 'at',
        save_new: 'Save'
    }
};

var storage = {
    get: function(key, defaultValue) {
        if (localStorage[key]) {
            try {
                return JSON.parse(localStorage[key]);
            } catch (ex) {
            }
        }
        if (defaultValue === undefined) {
            return null;
        }
        return defaultValue;
    },
    set: function(key, newValue) {
        localStorage[key] = JSON.stringify(newValue);
    },
    remove: function(key) {
        if (localStorage[key]) {
            delete localStorage[key];
        }
    }
};

var language = (function() {
    var detectedLanguage = storage.get('detectedLanguageV2', null);

    if (detectedLanguage) {
        return detectedLanguage;
    }

    detectedLanguage = 'en';

    // list from http://msdn.microsoft.com/en-us/library/windows/apps/jj657969.aspx
    var supportedLanguages = {
        de: ['de', 'de-de', 'de-ch', 'de-at', 'de-lu', 'de-li'],
        es: ['es', 'es-es', 'es-ar', 'es-bo', 'es-cl', 'es-co', 'es-cr', 'es-do', 'es-ec', 'es-gt', 'es-hn', 'es-mx', 'es-ni', 'es-pa', 'es-pe', 'es-pr', 'es-py', 'es-sv', 'es-uy', 'es-ve'],
        fr: ['fr', 'fr-fr', 'fr-be', 'fr-ca', 'fr-ch', 'fr-lu'],
        it: ['it', 'it-it', 'it-ch'],
        pt: ['pt', 'pt-br', 'pt-pt'],
        ru: ['ru', 'ru-ru'],
        pl: ['pl', 'pl-pl'],
        nl: ['nl', 'nl-nl', 'nl-be'],
        no: ['nb', 'nb-no', 'nn', 'nn-no', 'no', 'no-no'],
        sv: ['sv', 'sv-se', 'sv-fi'],
        tr: ['tr', 'tr-tr']
    };

    var navigatorLanguage = ((navigator.language) ? navigator.language : navigator.userLanguage).toLowerCase();
    for (var languageCode in supportedLanguages) {
        if (supportedLanguages[languageCode].indexOf(navigatorLanguage) > -1) {
            detectedLanguage = languageCode;
            break;
        }
    }

    storage.set('detectedLanguageV2', detectedLanguage);
    return detectedLanguage;
})();

var userLanguage = dictionary[language];
